(window.webpackJsonp=window.webpackJsonp||[]).push([[211],{651:function(t,a,e){"use strict";e.r(a);var s=e(19),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"js-对象"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#js-对象"}},[t._v("#")]),t._v(" js 对象")]),t._v(" "),e("h3",{attrs:{id:"创建对象三种方式的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建对象三种方式的区别"}},[t._v("#")]),t._v(" 创建对象三种方式的区别")]),t._v(" "),e("blockquote",[e("p",[t._v("创建对象使用{}、new object()、object.create()的区别"),e("br"),t._v("\n前言"),e("br"),t._v("\n在 js 中，创建对象有三种方式"),e("br"),t._v("\n{} // 对象字面量"),e("br"),t._v("\nnew Object()"),e("br"),t._v("\nObject.create()"),e("br"),t._v("\n1 和 2 的区别很小，1 不能传参，2 可以传参。"),e("br"),t._v("\nnew Object() 和 Object.create() 区别就比较大了")])]),t._v(" "),e("h4",{attrs:{id:"_1-new-关键字"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-new-关键字"}},[t._v("#")]),t._v(" 1. new 关键字")]),t._v(" "),e("p",[t._v("new 关键字做了几件事")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("创建一个新对象")])]),t._v(" "),e("li",[e("p",[t._v("将新对象的原型指向构造函数的原型")])]),t._v(" "),e("li",[e("p",[t._v("执行构造函数，绑定 this")])]),t._v(" "),e("li",[e("p",[t._v("返回这个对象")])])]),t._v(" "),e("p",[t._v("比如创建一个 Car 对象，伪代码")]),t._v(" "),e("p",[t._v("// new Car()\nvar obj = new Object()\nobj."),e("em",[t._v("proto")]),t._v(" = Car.prototype\n// 执行构造函数, 绑定 this\nCar.call(obj)")]),t._v(" "),e("p",[t._v("我们注意到比较关键的地方是，它调用了 Car 对象的构造函数，并通过 call 将 obj 的 this 绑定到了 Car 对象上")]),t._v(" "),e("p",[t._v("这一步操作将 Car 对象上的属性，继承到了 obj 上")]),t._v(" "),e("h4",{attrs:{id:"_2-object-create"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-object-create"}},[t._v("#")]),t._v(" 2. Object.create()")]),t._v(" "),e("p",[t._v("Object.create 做了什么事情呢？")]),t._v(" "),e("p",[t._v("它同样是创建一个新对象，将新对象的原型关联到构造函数上")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("myCreate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("Car")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("f")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  f"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Car"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("f")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("p",[t._v("可以看出，在 Object.create 的内部，并没有去调用 Car 构造函数，而是调用了创建新对象的构造函数，因此 Car 上的属性不会继承到 Object.create 创建的实例中")]),t._v(" "),e("h4",{attrs:{id:"_3-例子"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-例子"}},[t._v("#")]),t._v(" 3. 例子")]),t._v(" "),e("p",[t._v("比较鲜明的地方是在继承的时候")]),t._v(" "),e("p",[t._v("子类去继承父类的原型方法的时候，很多人会这样写")]),t._v(" "),e("p",[t._v("// 父类是 People，子类是 Male\nMale.prototype = new People()")]),t._v(" "),e("p",[t._v("new 确实能够继承，但是调用了父类的构造函数，把父类的属性也给继承到了原型上，但是我们仅仅只是想要父类的原型方法，所以这样写是存在副作用的")]),t._v(" "),e("p",[t._v("正确的写法应该是")]),t._v(" "),e("p",[t._v("Male.prototype = Object.create(People.prototype)")]),t._v(" "),e("p",[t._v("这种方式，不会调用父类的构造函数，而是生成新对象，将新对象与父类原型关联，然后 new 这个新对象返回")]),t._v(" "),e("p",[t._v("将 new 构造函数的方式转变了成 new 新对象的方式，这样就更加纯净，干脆")])])}),[],!1,null,null,null);a.default=n.exports}}]);