(window.webpackJsonp=window.webpackJsonp||[]).push([[212],{674:function(s,a,t){"use strict";t.r(a);var n=t(24),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"webpack-插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-插件"}},[s._v("#")]),s._v(" webpack 插件")]),s._v(" "),t("h3",{attrs:{id:"webpack-常用-plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-常用-plugin"}},[s._v("#")]),s._v(" webpack 常用 plugin")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("html-webpack-plugin：生成 HTML 文件")])]),s._v(" "),t("li",[t("p",[s._v("copy-webpack-plugin 拷贝文件")])]),s._v(" "),t("li",[t("p",[s._v("compression-webpack-plugin 生产环境时可选择让代码压缩 gzip.")])]),s._v(" "),t("li",[t("p",[s._v("terser-webpack-plugin 该插件使用 terser 来压缩 JavaScript。")])]),s._v(" "),t("li",[t("p",[s._v("mini-css-extract-plugin 本插件会将 CSS 提取到单独的文件中，为每个包含 CSS 的 JS 文件创建一个 CSS 文件，")])]),s._v(" "),t("li",[t("p",[s._v("clean-webpack-plugin 清理上一次项目生成的 bundle 文件")])]),s._v(" "),t("li",[t("p",[s._v("commons-chunk-plugin 提取公共代码")])])]),s._v(" "),t("h3",{attrs:{id:"自定义-plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义-plugin"}},[s._v("#")]),s._v(" 自定义 plugin")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("一个 JavaScript 命名函数。")])]),s._v(" "),t("li",[t("p",[s._v("在插件函数的 prototype 上定义一个 apply 方法。，方法传入 compiler 参数(compiler 对象代表了完整的 webpack 环境配置) 。")])]),s._v(" "),t("li",[t("p",[s._v("指定一个绑定到 webpack 自身的事件钩子。")])]),s._v(" "),t("li",[t("p",[s._v("处理 webpack 内部实例的特定数据。")])]),s._v(" "),t("li",[t("p",[s._v("功能完成后调用 webpack 提供的回调。")])])]),s._v(" "),t("h3",{attrs:{id:"loader-和-plugin-区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#loader-和-plugin-区别"}},[s._v("#")]),s._v(" loader 和 plugin 区别")]),s._v(" "),t("ol",[t("li",[s._v("作用不同")])]),s._v(" "),t("p",[s._v("loader，它是一个转换器，用于对模块源码的转换，")]),s._v(" "),t("p",[s._v("plugin 是一个扩展器，为了扩展 webpack 的功能，目的在于解决 loader 无法实现的其他事，从打包优化和压缩，到重新定义环境变量，功能强大到可以用来处理各种各样的任务")]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[s._v("运行时机不同")])]),s._v(" "),t("p",[s._v("loader 运行在打包文件之前，plugins 在整个编译周期都起作用")]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[s._v("loader 遵循单一职责，一个 loader 只做一件事情，plugins 是基于事件机制工作，会监听 webpack 打包过程中的某些节点，作用于 webpack 打包的整个过程")])]),s._v(" "),t("h2",{attrs:{id:"webpack-插件应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-插件应用"}},[s._v("#")]),s._v(" webpack 插件应用")]),s._v(" "),t("h3",{attrs:{id:"webpack-bundle-analyzer-打包分析工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-bundle-analyzer-打包分析工具"}},[s._v("#")]),s._v(" webpack-bundle-analyzer(打包分析工具)")]),s._v(" "),t("ul",[t("li",[s._v("安装："),t("code",[s._v("npm install webpack-bundle-analyzer -D")])])]),s._v(" "),t("blockquote",[t("p",[s._v("依赖(加判断时)："),t("code",[s._v("npm install cross-env -D")])])]),s._v(" "),t("ul",[t("li",[s._v("使用")])]),s._v(" "),t("blockquote",[t("p",[s._v("vue.config.js")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("configureWebpack")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("config")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("use_analyzer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" BundleAnalyzerPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack-bundle-analyzer"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BundleAnalyzerPlugin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("plugins"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("push")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BundleAnalyzerPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("blockquote",[t("p",[s._v("package.json 添加 analyzer 脚本")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"analyzer"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cross-env use_analyzer=true npm run build:prod"')]),s._v(",\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ul",[t("li",[t("p",[s._v("运行："),t("code",[s._v("npm run analyzer")])])]),s._v(" "),t("li",[t("p",[s._v("属性")])])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("plugins"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("push")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BundleAnalyzerPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 定义属性")]),s._v("\n\n  analyzerMode"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'server'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 以是server，static，json，disabled。在server模式下，分析器将启动HTTP服务器来显示软件包报告。在“静态”模式下，会生成带有报告的单个HTML文件。在disabled模式下，你可以使用这个插件来将generateStatsFile设置为true来生成Webpack Stats JSON文件。")]),s._v("\n  analyzerHost"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'127.0.0.1'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 将在“服务器”模式下使用的端口启动HTTP服务器。")]),s._v("\n  analyzerPort"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8888")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 端口号。")]),s._v("\n  reportFilename"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'report.html'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 路径捆绑，将在static模式下生成的报告文件。相对于捆绑输出目录。")]),s._v("\n  defaultSizes"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'parsed'")]),s._v("，"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 默认显示在报告中的模块大小匹配方式。应该是stat，parsed或者gzip中的一个。")]),s._v("\n  openAnalyzer"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在默认浏览器中自动打开报告。")]),s._v("\n  generateStatsFile"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果为true，则Webpack Stats JSON文件将在bundle输出目录中生成。")]),s._v("\n  statsFilename"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'stats.json'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  相对于捆绑输出目录。")]),s._v("\n  statsOptions"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// stats.toJson()方法的选项。例如，您可以使用source：false选项排除统计文件中模块的来源。")]),s._v("\n  logLevel"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'info'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 日志级别，可以是info, warn, error, silent。")]),s._v("\n  excludeAssets"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 用于排除分析一些文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);