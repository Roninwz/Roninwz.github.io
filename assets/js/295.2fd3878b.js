(window.webpackJsonp=window.webpackJsonp||[]).push([[295],{760:function(t,e,v){"use strict";v.r(e);var r=v(24),_=Object(r.a)({},(function(){var t=this,e=t.$createElement,v=t._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h2",{attrs:{id:"vue3-新特性"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue3-新特性"}},[t._v("#")]),t._v(" vue3 新特性")]),t._v(" "),v("h3",{attrs:{id:"生命周期"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("选项式 API")]),t._v(" "),v("th",[t._v("Hook inside setup")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("beforeCreate")]),t._v(" "),v("td",[t._v("Not needed")])]),t._v(" "),v("tr",[v("td",[t._v("created")]),t._v(" "),v("td",[t._v("Not needed")])]),t._v(" "),v("tr",[v("td",[t._v("beforeMount")]),t._v(" "),v("td",[t._v("onBeforeMount")])]),t._v(" "),v("tr",[v("td",[t._v("mounted")]),t._v(" "),v("td",[t._v("onMounted")])]),t._v(" "),v("tr",[v("td",[t._v("beforeUpdate")]),t._v(" "),v("td",[t._v("onBeforeUpdate")])]),t._v(" "),v("tr",[v("td",[t._v("updated")]),t._v(" "),v("td",[t._v("onUpdated")])]),t._v(" "),v("tr",[v("td",[t._v("beforeUnmount")]),t._v(" "),v("td",[t._v("onBeforeUnmount")])]),t._v(" "),v("tr",[v("td",[t._v("unmounted")]),t._v(" "),v("td",[t._v("onUnmounted")])]),t._v(" "),v("tr",[v("td",[t._v("errorCaptured")]),t._v(" "),v("td",[t._v("onErrorCaptured")])]),t._v(" "),v("tr",[v("td",[t._v("renderTracked")]),t._v(" "),v("td",[t._v("onRenderTracked")])]),t._v(" "),v("tr",[v("td",[t._v("renderTriggered")]),t._v(" "),v("td",[t._v("onRenderTriggered")])]),t._v(" "),v("tr",[v("td",[t._v("activated")]),t._v(" "),v("td",[t._v("onActivated")])]),t._v(" "),v("tr",[v("td",[t._v("deactivated")]),t._v(" "),v("td",[t._v("onDeactivated")])])])]),t._v(" "),v("h3",{attrs:{id:"组合式-api-composition-api"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#组合式-api-composition-api"}},[t._v("#")]),t._v(" 组合式 API (Composition API)")]),t._v(" "),v("p",[t._v("优点：")]),t._v(" "),v("ol",[v("li",[v("p",[t._v("更好的逻辑复用与代码组织，暴露给模板的 property 来源十分清晰，因为它们都是被组合逻辑函数返回的值。")])]),t._v(" "),v("li",[v("p",[t._v("不存在命名空间冲突，可以通过解构任意命名")])]),t._v(" "),v("li",[v("p",[t._v("不再需要仅为逻辑复用而创建组件实例")])]),t._v(" "),v("li",[v("p",[t._v("仅依赖它的参数和 Vue 全局导出的 API，而不是依赖其微妙的 this 上下文")])])]),t._v(" "),v("p",[t._v("参考："),v("a",{attrs:{href:"https://segmentfault.com/a/1190000023016699",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://segmentfault.com/a/1190000023016699"),v("OutboundLink")],1)]),t._v(" "),v("p",[t._v("对比 vue2 的混入：")]),t._v(" "),v("p",[t._v("优点：mixin 可以根据逻辑关注点进行组织代码")]),t._v(" "),v("p",[t._v("缺点：")]),t._v(" "),v("ol",[v("li",[t._v("它们容易发生冲突，最终可能导致属性名称冲突。")]),t._v(" "),v("li",[t._v("不清楚混合元素如何作用")]),t._v(" "),v("li",[t._v("混合后的组件属性不方便在其他组件中重用。")])]),t._v(" "),v("h3",{attrs:{id:"proxy-和-object-defineproperty-的对比"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#proxy-和-object-defineproperty-的对比"}},[t._v("#")]),t._v(" Proxy 和 Object.defineProperty 的对比")]),t._v(" "),v("p",[t._v("Proxy 的优势如下")]),t._v(" "),v("ol",[v("li",[t._v("Proxy 可以直接监听整个对象而非属性。")]),t._v(" "),v("li",[t._v("Proxy 可以直接监听数组的变化。")]),t._v(" "),v("li",[t._v("Proxy 有 13 中拦截方法，如 ownKeys、deleteProperty、has 等是 Object.defineProperty 不具备的。")]),t._v(" "),v("li",[t._v("Proxy 返回的是一个新对象，我们可以只操作新的对象达到目的，而 Object.defineProperty 只能遍历对象属性直接修改;")]),t._v(" "),v("li",[t._v("Proxy 做为新标准将受到浏览器产商重点持续的性能优化,也就是传说中的新标准的性能红利。")])]),t._v(" "),v("p",[t._v("Object.defineProperty 的优势如下")]),t._v(" "),v("p",[t._v("兼容性好，支持 IE9，而 Proxy 的存在浏览器兼容性问题,而且无法用 polyfill 磨平。")]),t._v(" "),v("p",[t._v("Object.defineProperty 不足在于：")]),t._v(" "),v("ol",[v("li",[t._v("Object.defineProperty 只能劫持对象的属性,因此我们需要对每个对象的每个属性进行遍历。")]),t._v(" "),v("li",[t._v("Object.defineProperty 不能监听数组。是通过重写数据的那 7 个可以改变数据的方法来对数组进行监听的。")]),t._v(" "),v("li",[t._v("Object.defineProperty 也不能对 es6 新产生的 Map,Set 这些数据结构做出监听。")]),t._v(" "),v("li",[t._v("Object.defineProperty 也不能监听新增和删除操作，通过 Vue.set()和 Vue.delete 来实现响应式的。")])]),t._v(" "),v("h3",{attrs:{id:"tree-shaking-的支持"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#tree-shaking-的支持"}},[t._v("#")]),t._v(" Tree-Shaking 的支持")]),t._v(" "),v("p",[t._v("Tree shaking 是一种通过清除多余代码方式来优化项目打包体积的技术，专业术语叫 Dead code elimination")]),t._v(" "),v("p",[t._v("Tree shaking 是基于 ES6 模板语法（import 与 exports），主要是借助 ES6 模块的静态编译思想，在编译时就能确定模块的依赖关系，以及输入和输出的变量")]),t._v(" "),v("p",[t._v("Tree shaking 无非就是做了两件事：")]),t._v(" "),v("ol",[v("li",[v("p",[t._v("编译阶段利用 ES6 Module 判断哪些模块已经加载")])]),t._v(" "),v("li",[v("p",[t._v("判断那些模块和变量未被使用或者引用，进而删除对应代码")])])]),t._v(" "),v("p",[t._v("Tree-Shaking 原理："),v("a",{attrs:{href:"https://juejin.cn/post/6844903544756109319",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://juejin.cn/post/6844903544756109319"),v("OutboundLink")],1)]),t._v(" "),v("h3",{attrs:{id:"teleport-任意传送门"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#teleport-任意传送门"}},[t._v("#")]),t._v(" Teleport 任意传送门")]),t._v(" "),v("p",[t._v("Teleport 是一种能够将我们的模板移动到 DOM 中 Vue app 之外的其他位置的技术")]),t._v(" "),v("p",[t._v("适用场景：像 modals,toast 等这样的元素，很多情况下，我们将它完全的和我们的 Vue 应用的 DOM 完全剥离，管理起来反而会方便容易很多")]),t._v(" "),v("h3",{attrs:{id:"虚拟-dom-的优化"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#虚拟-dom-的优化"}},[t._v("#")]),t._v(" 虚拟 DOM 的优化")]),t._v(" "),v("p",[v("a",{attrs:{href:"https://www.pianshen.com/article/16291732261/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.pianshen.com/article/16291732261/"),v("OutboundLink")],1)]),t._v(" "),v("h3",{attrs:{id:"其它"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#其它"}},[t._v("#")]),t._v(" 其它")]),t._v(" "),v("ol",[v("li",[t._v("片段")])]),t._v(" "),v("p",[t._v("在 2.x 中，由于不支持多根节点组件")]),t._v(" "),v("p",[t._v("在 3.x 中，组件可以包含多个根节点")]),t._v(" "),v("ol",{attrs:{start:"2"}},[v("li",[v("p",[t._v("去除了过滤器，建议用计算属性代替")])]),t._v(" "),v("li",[v("p",[t._v("修改了 v-if 和 v-for 的优先级，vue3 中 v-if 优先级高")])])]),t._v(" "),v("h2",{attrs:{id:"vue3-更小更快"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue3-更小更快"}},[t._v("#")]),t._v(" vue3 更小更快")]),t._v(" "),v("h3",{attrs:{id:"更快"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#更快"}},[t._v("#")]),t._v(" 更快")]),t._v(" "),v("p",[t._v("Virtual DOM 完全重写，mounting & patching 提速 100% ；")]),t._v(" "),v("p",[t._v("更多编译时（compile-time）提醒以减少 runtime 开销；")]),t._v(" "),v("p",[t._v("基于 Proxy 观察者机制以满足全语言覆盖及更好的性能；")]),t._v(" "),v("p",[t._v("放弃 Object.defineProperty ，使用更快的原生 Proxy ；")]),t._v(" "),v("p",[t._v("组件实例初始化速度提高 100％ ；")]),t._v(" "),v("p",[t._v("提速一倍/内存使用降低一半。")]),t._v(" "),v("h3",{attrs:{id:"更小"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#更小"}},[t._v("#")]),t._v(" 更小")]),t._v(" "),v("p",[t._v("Tree-shaking 更友好；")]),t._v(" "),v("p",[t._v("新的 core runtime: ~10kb gzipped")]),t._v(" "),v("h3",{attrs:{id:"更易维护"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#更易维护"}},[t._v("#")]),t._v(" 更易维护")]),t._v(" "),v("p",[t._v("Flow -> TypeScript")]),t._v(" "),v("p",[t._v("Decoupled Packages（解耦包）")]),t._v(" "),v("p",[t._v("编译器重写")]),t._v(" "),v("h3",{attrs:{id:"更易于原生"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#更易于原生"}},[t._v("#")]),t._v(" 更易于原生")]),t._v(" "),v("p",[t._v("自定义 Renderer API")])])}),[],!1,null,null,null);e.default=_.exports}}]);