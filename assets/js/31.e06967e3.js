(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{457:function(_,e,t){_.exports=t.p+"assets/img/defineProperty.eb1500e8.png"},805:function(_,e,t){"use strict";t.r(e);var v=t(24),r=Object(v.a)({},(function(){var _=this,e=_.$createElement,v=_._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("h2",{attrs:{id:"vue-响应式原理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue-响应式原理"}},[_._v("#")]),_._v(" vue 响应式原理")]),_._v(" "),v("h3",{attrs:{id:"响应式和双向绑定区别"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#响应式和双向绑定区别"}},[_._v("#")]),_._v(" 响应式和双向绑定区别")]),_._v(" "),v("p",[_._v("响应式一般指：数据改变驱动视图改变，是单向的.")]),_._v(" "),v("p",[_._v("双向绑定：是双向的，视图反过来也可以改变数据。 也就是说响应式是双向绑定的一环.")]),_._v(" "),v("h3",{attrs:{id:"响应式简介"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#响应式简介"}},[_._v("#")]),_._v(" 响应式简介")]),_._v(" "),v("p",[v("strong",[v("em",[_._v("数据驱动视图更改需要具备两个条件：")])])]),_._v(" "),v("ol",[v("li",[v("p",[_._v("知道什么时候数据更改 -监听数据改变")])]),_._v(" "),v("li",[v("p",[_._v("数据改变后将更改更新到视图")])])]),_._v(" "),v("p",[v("strong",[v("em",[_._v("监听数据改变")])])]),_._v(" "),v("ol",[v("li",[_._v("手动触发视图更新（setData） 对应 react")]),_._v(" "),v("li",[_._v("数据劫持 对应 vue")]),_._v(" "),v("li",[_._v("脏检查 对应 angular")])]),_._v(" "),v("p",[v("strong",[v("em",[_._v("如何更新到视图")])])]),_._v(" "),v("p",[_._v("通过发布订阅模式，监听到数据变化之后，get 时收集依赖，set 的时候通知更新视图。")]),_._v(" "),v("h3",{attrs:{id:"原理图"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#原理图"}},[_._v("#")]),_._v(" 原理图")]),_._v(" "),v("p",[v("img",{attrs:{src:t(457),alt:"image"}})]),_._v(" "),v("h3",{attrs:{id:"响应式源码解析"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#响应式源码解析"}},[_._v("#")]),_._v(" 响应式源码解析")]),_._v(" "),v("ol",[v("li",[v("p",[_._v("observe 函数: 是用来监测数据的变化，是一个入口函数，并提供一个出口。")])]),_._v(" "),v("li",[v("p",[_._v("Observer 类: 实例化的过程中对实例添加"),v("code",[_._v("__ob__")]),_._v("属性，并遍历 data")])]),_._v(" "),v("li",[v("p",[_._v("defineReactive 函数: 直接实现将数据转换为响应化的函数")])])]),_._v(" "),v("blockquote",[v("p",[_._v("顺序是 1 => 2 => 3 => 1 ... 间接递归的出口在 1 当传入的值不是对象时。")])]),_._v(" "),v("blockquote",[v("p",[_._v("参考：Vue 的 MVVM 模式响应式原理"),v("a",{attrs:{href:"https://juejin.cn/post/6922855909546786830",target:"_blank",rel:"noopener noreferrer"}},[_._v("https://juejin.cn/post/6922855909546786830"),v("OutboundLink")],1)])]),_._v(" "),v("p",[v("strong",[v("em",[_._v("observe 解析")])])]),_._v(" "),v("ol",[v("li",[v("p",[_._v("判断必须是对象和非 VNode 的对象类型")])]),_._v(" "),v("li",[v("p",[_._v("判断是否被观察 "),v("code",[_._v("__ob__")]),_._v("，"),v("code",[_._v("__ob__")]),_._v("属性，表示这个数据被观察了。")])]),_._v(" "),v("li",[v("p",[_._v("给数组或对象 实例化一个 Observer 对象实例")])])]),_._v(" "),v("p",[v("strong",[v("em",[_._v("Observer 解析")])])]),_._v(" "),v("ol",[v("li",[_._v("给 data 数据添加"),v("code",[_._v("__ob__")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);