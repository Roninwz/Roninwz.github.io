(window.webpackJsonp=window.webpackJsonp||[]).push([[320],{864:function(r,e,t){"use strict";t.r(e);var a=t(14),i=Object(a.a)({},(function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[t("h2",{attrs:{id:"dsbridge"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dsbridge"}},[r._v("#")]),r._v(" dsbridge")]),r._v(" "),t("ul",[t("li",[r._v("android github 官网 "),t("a",{attrs:{href:"https://github.com/wendux/DSBridge-Android",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://github.com/wendux/DSBridge-Android"),t("OutboundLink")],1)]),r._v(" "),t("li",[r._v("IOS github 官网 "),t("a",{attrs:{href:"https://github.com/wendux/DSBridge-IOS",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://github.com/wendux/DSBridge-IOS"),t("OutboundLink")],1)])]),r._v(" "),t("h3",{attrs:{id:"简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[r._v("#")]),r._v(" 简介")]),r._v(" "),t("p",[r._v("DSBridge 是 H5 页面与 Native 之间通信的桥梁，它有如下特点：")]),r._v(" "),t("p",[r._v("跨平台；同时支持 ios 和 android。")]),r._v(" "),t("p",[r._v("双向调用；js 可以调用 native， native 可以调用 js")]),r._v(" "),t("p",[r._v("不仅支持异步调用，而且页支持同步调用（dsbridge 是唯一一个支持同步调用的 javascript bridge）")]),r._v(" "),t("p",[r._v("支持进度回调，多次返回（常用于文件下载进度、计时器等）")]),r._v(" "),t("p",[r._v("Android 支持腾讯 x5 内核")]),r._v(" "),t("p",[r._v("三端易用；无论是前端还是 android 或 ios，使用都非常简单，极大的降低集成／学习成本")]),r._v(" "),t("h3",{attrs:{id:"javascript-api-方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#javascript-api-方法"}},[r._v("#")]),r._v(" Javascript API 方法")]),r._v(" "),t("ol",[t("li",[t("code",[r._v("bridge.call(method,[args,callback])")]),r._v(" 功能：调用 Native api")])]),r._v(" "),t("p",[r._v("method: api 函数名")]),r._v(" "),t("p",[r._v("args:参数，类型：json, 可选参数")]),r._v(" "),t("p",[r._v("callback(String returnValue):仅调用异步 api 时需要.")]),r._v(" "),t("p",[r._v("(1) 同步调用 支持同步是 DSBridge 的最大亮点之一。")]),r._v(" "),t("p",[r._v("(2) 异步调用")]),r._v(" "),t("p",[r._v("此时你需要传一个回调（如果没有参数，回调可作为第二个参数），当 api 完成时回调将会被调用，结果以字符串的形式传递。")]),r._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[t("code",[r._v("dsBridge.register(methodName,function)")]),r._v(" 注册 javascript API 供 Native 调用")])]),r._v(" "),t("p",[r._v("注意点：为了兼容 Android 和 IOS ，DSBridge 对 Native API 的签名有两个要求")]),r._v(" "),t("ol",[t("li",[t("p",[r._v("返回值必须是 String， 如果没有返回值，直接返回 null 就行")])]),r._v(" "),t("li",[t("p",[r._v("API 的参数通过 JSONObject 传递，如果有些 API 没有参数，你也需要申明。")])])]),r._v(" "),t("h3",{attrs:{id:"android-通过-dwebview-调用-js-代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#android-通过-dwebview-调用-js-代码"}},[r._v("#")]),r._v(" Android 通过 DWebview 调用 JS 代码")]),r._v(" "),t("ol",[t("li",[r._v("void callHandler(String method, Object[] args)")])]),r._v(" "),t("p",[r._v("作用：用于调用没有返回值的 js 函数，没有参数时传 null 即可")]),r._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[r._v("void callHandler(String method, Object[] args, CompletionHandler handler)")])]),r._v(" "),t("p",[r._v("作用：用于需要返回值的场景，需要传递一个 CompletionHandler 接口对象，在 complete(String returnValue)方法中处理返回值即可。")]),r._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[r._v("void evaluateJavascript(String script)")])]),r._v(" "),t("p",[r._v("作用：用于执行任意 js 代码，内部已做版本兼容处理。")]),r._v(" "),t("h3",{attrs:{id:"dsbridge-原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dsbridge-原理"}},[r._v("#")]),r._v(" dsbridge 原理")]),r._v(" "),t("h3",{attrs:{id:"dsbridge-和-jsbridge-区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dsbridge-和-jsbridge-区别"}},[r._v("#")]),r._v(" dsbridge 和 jsbridge 区别")]),r._v(" "),t("ol",[t("li",[r._v("同步/异步支持")])]),r._v(" "),t("p",[r._v("DSBridge 支持同步／异步调用")]),r._v(" "),t("p",[r._v("jsbridge 只支持异步调用方式")]),r._v(" "),t("h3",{attrs:{id:"dsbridge-vs-webviewjavascriptbridge"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dsbridge-vs-webviewjavascriptbridge"}},[r._v("#")]),r._v(" DSBridge vs WebViewJavascriptBridge")]),r._v(" "),t("ol",[t("li",[r._v("平台支持")])]),r._v(" "),t("p",[r._v("DSBridge 跨平台，同时支持 ios/android/osx")]),r._v(" "),t("p",[r._v("WebViewJavascriptBridge 并不支持 android，支持 ios/osx")]),r._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[r._v("易用性")])]),r._v(" "),t("p",[r._v("DSBridge（ios 、android 和前端）三端易用")]),r._v(" "),t("p",[r._v("WebViewJavascriptBridge 用法比较繁琐")]),r._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[r._v("同步/异步支持")])]),r._v(" "),t("p",[r._v("DSBridge 支持同步／异步调用")]),r._v(" "),t("p",[r._v("WebViewJavascriptBridge 前端只支持异步调用方式")]),r._v(" "),t("hr"),r._v(" "),t("p",[t("a",{attrs:{href:"https://www.jianshu.com/p/d967b0d85b97",target:"_blank",rel:"noopener noreferrer"}},[r._v("https://www.jianshu.com/p/d967b0d85b97"),t("OutboundLink")],1)]),r._v(" "),t("hr"),r._v(" "),t("p",[r._v("参考："),t("a",{attrs:{href:"https://segmentfault.com/a/1190000012403985?utm_medium=referral",target:"_blank",rel:"noopener noreferrer"}},[r._v("跨平台 Js bridge 新秀-DSBridge Android 篇"),t("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=i.exports}}]);